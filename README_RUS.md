#Простая кроссплатформенная обёртка fftw для Java, используя SWIG

В данном репозитории содержатся исходники для создания кроссплатформенной обёртки fftw для Java. Они могут быть свободно изменены под конкретные нужды. Данная обёртка поддерживает следующие операционные системы: Linux, Windows x86 и x64.

В каждой директории содержится интерфейс SWIG'а для генерации Java классов и обёртки на Си, а так же сам файл исходник fftw.c, в котором используется функция «fftw_plan_dft_1» библиотеки fftw.

##Компиляция под Linux используя gcc

Для компиляции под Linux необходимо установить SWIG и fftw3. При этом библиотека fftw3 должна быть скомпилирована с флагом «-fPIC». Это можно сделать следующим образом: «./configure CFLAS=-fPIC.

Первое, что необходимо сделать: определить Java пакет, в котором будут лежать сгенерированные классы. Далее необходимо указать этот пакет для SWIG. Для этого в файле Makefile необходимо найти строку «swig -java -package main fftw.i» и заменить «main» на необходимый пакет. Например: «main.spectroscope.native». После этого в терминале достаточно выполнить команду make. Выходной файл библиотеки будет назван «libfftw.so».

##Компиляция под Windows используя Visual Studio 2010

Для компиляции под Windows необходимо скачать SWIG, добавить его в переменную PATH и создать системную переменную JDK_HOME. Для работы обёртки потребуется добавить динамическую библиотеку fftw(«libfftw3-3.dll»), соответствующую архитектуре, в переменную PATH.

Для создания библиотеки необходимо открыть проект fftw3_java_wrapper и выбрать нужную архитектуру. Для того, чтобы указать Java пакет в котором будут храниться сгенерированные классы, необходимо открыть свойства проекта, найти Build Events, потом открыть Pre-Build Event и справа от “Command Line” заменить “main” на нужный пакет, учитывая вложенность. Когда выше указанные условия выполнены, можно запустить построение проекта.